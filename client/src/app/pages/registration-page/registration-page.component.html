<head>
    <meta charset="UTF-8" />
    <title>Register Page</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,700,1,200" />
</head>
<body>
    <Section class="flex-row center header">
        <app-back-button></app-back-button>
        <h1 class="title">Jeu classique</h1>
    </Section>
    <Section class="flex-row center registerContainer">
        <form *ngIf="!usernameRegistered" [formGroup]="registrationForm" class="flex-row register-input">
            <label class="flex-row center user-title" for="input"><b>pseudo :</b></label>
            <input
                name="userName"
                class="button-style no-hover"
                id="input"
                type="text"
                placeholder="MismatchMaster"
                formControlName="username"
                required
                autocomplete="off"
                title="Only letters and numbers are allowed"
            />
            <button
                class="button-style play-button no-hover"
                (click)="registerUser()"
                [disabled]="registrationForm.invalid"
                [ngClass]="{ 'not-allowed': registrationForm.invalid, allowed: registrationForm.valid }"
            >
                <span
                    class="material-symbols-outlined play-icon"
                    id="play-icon"
                    [ngClass]="{ 'not-allowed': registrationForm.invalid, allowed: registrationForm.valid }"
                >
                    play_arrow
                </span>
            </button>
        </form>
        <div *ngIf="usernameRegistered">
            <p>{{ waitingMessage }}</p>
            <div *ngIf="incomingPlayerFound">
                <button class="button-style play-button no-hover" (click)="acceptIncomingPlayer()">Yes</button>
                <button class="button-style play-button no-hover" (click)="refuseIncomingPlayer()">No</button>
            </div>
        </div>
    </Section>
</body>
